Here is a sample interaction with the agent:

list wall parameters

Here are the parameters for **WallParameters.cs**:
No parameters found for this script.

Do you want to run it with these parameters, or would you like to change any parameter values?

run it

Tool Call Request:

Name: run_script_by_name

Arguments: { "script_name": "WallParameters.cs", "parameters": {}, "is_final_approval": true }

Action completed successfully
-------------------------------------

 seyou@SH  ~  RAP  rap-server  server  feature/revit-agent   server 3.12.3 
❯ uvicorn main:app --reload
INFO:     Will watch for changes in these directories: ['C:\\Users\\seyou\\RAP\\rap-server\\server']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [35652] using StatReload
INFO:     Started server process [34940]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:agent.api_helpers:Attempting to read manifest from: C:\Users\seyou\Desktop\agent-scripts\manifest.json
INFO:agent.api_helpers:Contents of 'C:\Users\seyou\Desktop\agent-scripts': ['Create_Spiral_Wall', 'Create_Wall.cs', 'HelloTaskDialog.cs', 'manifest.json', 'TestScript.cs', 'WallParameters.cs']
INFO:httpx:HTTP Request: POST http://127.0.0.1:8000/api/get-script-parameters "HTTP/1.1 200 OK"
[script_execution_router] Received output_summary: None

--------------------------------------

as you can see it is correct until it executes the script. it is also it needs to respond a summary after execution. but the respond just says "Action completed successfully." which is not a summary. so the output summary is generated based on Show. first if there is a Show global in a script (whether there is also Println or not) we need to prepare a summary for a table - but only if the number of rows generated in the raw output are greater than 5. so the agent only need the first five rows and then it can summarize that output and say "...for a full output see the Table tab.".... Then for Println summary we need to first check if there is a Println used in the script (i.e no Show must exist otherwise it takes precedence so the summary must be just a table summary).... if there is Println but no Show we need to prepare a summary output for the Println. that is if the raw output is more than five lines (line Println used in a foreach loop and can produce thousands of lines)...the summar should be the top five lines and the agent can summarize that output summary and then can respond with "...for full output see the Console tab"..... for any other case, if the table is just producing five or less rows, if the Println is producing five or less lines, no summary is needed. the agent must able to deal with the raw execution output for both, i.e just summarize the raw output, and there is nothing to refer to because that is the whole output. so instead of responding with the raw ouput in the above case (because I've only Println and the lines are less than five) it is just responding "Action completed successfully" but the console tab has an Println output and that is what it has to use when there is no summary.  The problem is, even for scripts that has more than line fives with Println and that have more than five rows with Show, it is still saying, Recieved output_summary:None. so either the summary is not correctly generated (that is the strong case), or the agent is not wired to correctly get the summary and respond with it. also after the HITL comes and I click "approve" it executes the script. for it to respond with the summary it needs a trigger like an internal human message that tells it to respond with the summary just right after execution - I guess that is already in place because it is responding the "Action completed successfully." just right after execution. the only thing is that is not either the summary (when Println and Show produce more than five lines/rows), or just the raw ouput (when the generation is less than or equal to five lines/rows)....    so if there is no summary it must mean either the Println or the Show are not producing more than 5 lines/rows - in that case there is no summary sent from the addin so the agent has to deal with the raw ouput (i.e summarize and respond the raw output).  NOTE: DO NOT CHANGE MANUAUL AUTOMATION ecosystem which the agent depends to work correctly. the agent code is in rap-server/server/agent folder and rap-web/scr/components/agent folder. anything other than that is manual automation ecosystem, it works so it must be kept intact!!!!..... just lets try to solve why the ouput summary is not coming as a response by the agent. is it not generated in the first place by the RServer.Addin/Services/CoreScriptRunnerService.cs? or is there a communication problem? why is it responding with "Action completed successfully." instead of with real summary sent from the addin?. before you change any code lets talk about it. you must get my consent to edit code. I've to agree by seeing how much you have understood the project.